function Knwl(){this.text={};this.text.data={};this.addToObj=function(t,n){e.text.data[n]=t};this.get=function(t){if(t!==undefined){t=t.toLowerCase();if(t==="emotion"){return e.text.data.emotions}else if(t==="phones"){return e.text.data.phones}else if(t==="dates"){return e.text.data.dates}else if(t==="times"){return e.text.data.times}else if(t==="links"){return e.text.data.links}else if(t==="readingtime"){return e.text.data.readingTime}else if(t==="emails"){return e.text.data.emails}else if(t==="places"){return e.text.data.places}else if(t==="spam"){return e.text.data.spam}else{alert("KNWL ERROR: Data type not correct, correct types: 'emotion','phones','dates','times','links','emails','places'")}}else{alert("KNWL ERROR: Data type not correct, correct types: 'emotion','phones','dates','times','links','emails','places'")}};this.text.readingTime=function(e){var t=e*.312;return t/60};this.date={};this.date.days=["1st","2nd","3rd","4th","5th","6th","7th","8th","9th","10th","11th","12th","13th","14th","15th","16th","17th","18th","19th","20th","21st","22nd","23rd","24th","25th","26th","27th","28th","29th","30th","31st"];this.date.months=["january","february","march","april","may","june","july","august","september","october","november","december"];this.date.monthAbbrs=["jan","feb","mar","apr","may","jun","jul","aug","sept","oct","nov","dec"];this.date.holidays=[["thanksgiving"],["christmas"],["new","years"],["july","4th"]];this.date.holidaysD=[[28,11],[25,12],[1,1],[4,7]];this.date.dateObj=new Date;this.date.getDay=function(t){if(!isNaN(t)){if(t>0&&t<32){return parseInt(t)}}else{for(var n=0;n<e.date.days.length;n++){if(e.date.days[n]===t){return n+1}}}};this.date.getMonth=function(t,n){if(!isNaN(t)&&n==="mdy"){return parseInt(t)}else{for(var r=0;r<e.date.months.length;r++){if(e.date.months[r]===t){return r+1}}for(var r=0;r<e.date.monthAbbrs.length;r++){if(e.date.monthAbbrs[r]===t){return r+1}}}};this.date.findDates=function(t,n){var r=[];for(var i=0;i<t.length;i++){t[i]=t[i].split(/[.,!?]+/);t[i]=t[i][0]}var s=[];for(var i=0;i<t.length;i++){var o=e.date.getMonth(t[i]);if(o!==undefined){var u=e.date.getDay(t[i+1]);if(u!==undefined){if(u>0&&u<32){if(!isNaN(t[i+2])&&t[i+2]!==""){var a=parseInt(t[i+2]);if(a>32&&a<1e4){s=[o,u,a,e.preview(i,t)]}}else{s=[o,u,e.date.dateObj.getFullYear(),e.preview(i,t)]}}r.push(s)}}}var s=[];for(var i=0;i<t.length;i++){var f=t[i].replace("(","");var f=f.replace(")","");var l=f.split("/");if(l.length===3){var c=0;for(var h=0;h<l.length;h++){if(!isNaN(l[h])&&l[h]!==""){c++}}if(c===3){var o=e.date.getMonth(l[0],"mdy");var u=e.date.getDay(l[1]);var a=parseInt(l[2]);s=[o,u,a,e.preview(i,t)];r.push(s)}}}var s=[];for(var i=0;i<t.length;i++){if(t[i+1]==="of"){if(t[i+2]!==undefined){var u=e.date.getDay(t[i]);var o=e.date.getMonth(t[i+2]);var a=e.date.dateObj.getFullYear();if(o!==undefined&&u!==undefined){if(t[i+3]!==undefined){if(!isNaN(t[i+3])){if(t[i+3]>32&&t[i+3]<1e4){a=t[i+3]}}else if(t[i+3]==="on"||t[i+3]==="in"){if(t[i+4]!==undefined){if(!isNaN(t[i+4])){if(t[i+4]>32&&t[i+4]<1e4){a=t[i+4]}}}}else{for(var p=i;p>0;p--){if(!isNaN(t[p])){if(t[p]>32&&t[p]<1e4){a=parseInt(t[p]);break}}else if(n[p-1][n[p-1].length-1]==="."||n[p-1][n[p-1].length-1]==="?"||n[p-1][n[p-1].length-1]==="!"||n[p-1][n[p-1].length-1]===";"){break}}}}else{for(var p=i;p>0;p--){if(!isNaN(t[p])){if(t[p]>32&&t[p]<1e4){a=parseInt(t[p]);break}}else if(n[p-1][n[p-1].length-1]==="."||n[p-1][n[p-1].length-1]==="?"||n[p-1][n[p-1].length-1]==="!"||n[p-1][n[p-1].length-1]===";"){break}}}s=[o,u,a,e.preview(i,t)];r.push(s)}}}}var s=[];for(var i=0;i<t.length;i++){for(var d=0;d<e.date.holidays.length;d++){var v=e.date.holidays[d];var m=i;if(t[m]===v[0]){for(var g=0;g<v.length;g++){if(t[m]===v[g]){if(g===v.length-1){if(e.date.dateObj.getMonth()<=e.date.holidaysD[d][1]+1){s=[e.date.holidaysD[d][1],e.date.holidaysD[d][0],e.date.dateObj.getFullYear(),e.preview(i,t)]}else{s=[e.date.holidaysD[d][1],e.date.holidaysD[d][0],e.date.dateObj.getFullYear()+1,e.preview(i,t)]}r.push(s)}}m++}}}}return r};this.time={};this.time.findTimes=function(t){var n=[];var r=[];for(var i=0;i<t.length;i++){var s=t[i].split(":");if(s.length===2){if(!isNaN(s[0])&&!isNaN(s[1])){if(s[0]>0&&s[0]<13){if(s[1]>=0&&s[1]<61){if(t[i+1]==="pm"){r=[s[0],s[1],"PM",e.preview(i,t)];n.push(r)}else if(t[i+1]==="am"){r=[s[0],s[1],"AM",e.preview(i,t)];n.push(r)}}}}}}return n};this.emotion={};this.emotion.negativeWords=["terrible","horrible","evil","die","dick","bitch","fucked","stupid","idiot","dumb","noob","shit","vain","n00b","dickhead","cocksucker","disgusting","slut"];this.emotion.negativeWordsB=["fuck","shit","kill","rape","hate","hating"];this.emotion.positiveWords=["happy","good","great","amazing","awesome","wonderful","brilliant","smart"];this.emotion.positiveWordsB=["love","like","want","<3","kiss"];this.emotion.subjects=["she's","you","him","her","it","this","he's","shes","hes","your","you're","ur","they're","their","theyre"];this.emotion.negComb=[["fuck","off"],["go","away"],["go","cry"],["go","and"]];this.emotion.negCombSep=["and","it","&"];this.emotion.posComb=[["thank","you"],["thanks","a","million"],["happy","birthday"],["happy","thanksgiving"],["merry","christmas"],["happy","holidays"],["good","day"],["oh","cool"]];this.emotion.posCombSep=["for","and","&"];this.emotion.findEmotions=function(t){var n=0;var r=0;for(var i=0;i<t.length;i++){t[i]=t[i].split(/[.,!?]+/);t[i]=t[i][0];for(var s=0;s<e.emotion.negativeWords.length;s++){var o=e.emotion.negativeWords[s];if(t[i].search(o)!==-1){for(var u=0;u<e.emotion.subjects.length;u++){if(t[i-1]!==undefined){if(t[i-1]===e.emotion.subjects[u]){n++}}if(t[i-2]!==undefined){if(t[i-2]===e.emotion.subjects[u]){n++}}}}}}for(var i=0;i<t.length;i++){for(var s=0;s<e.emotion.negativeWordsB.length;s++){var o=e.emotion.negativeWordsB[s];if(t[i].search(o)!==-1){for(var u=0;u<e.emotion.subjects.length;u++){if(t[i+1]!==undefined){if(t[i+1]===e.emotion.subjects[u]){n++}}if(t[i+2]!==undefined){if(t[i+2]===e.emotion.subjects[u]){n++}}}}}}for(var i=0;i<t.length;i++){t[i]=t[i].split(/[.,!?]+/);t[i]=t[i][0];for(var s=0;s<e.emotion.positiveWords.length;s++){var a=e.emotion.positiveWords[s];if(t[i].search(a)!==-1){for(var u=0;u<e.emotion.subjects.length;u++){if(t[i-1]!==undefined){if(t[i-1]===e.emotion.subjects[u]){r++}}if(t[i-2]!==undefined){if(t[i-2]===e.emotion.subjects[u]){r++}}}}}}for(var i=0;i<t.length;i++){for(var s=0;s<e.emotion.positiveWordsB.length;s++){var a=e.emotion.positiveWordsB[s];if(t[i].search(a)!==-1){for(var u=0;u<e.emotion.subjects.length;u++){if(t[i+1]!==undefined){if(t[i+1]===e.emotion.subjects[u]){r++}}if(t[i+2]!==undefined){if(t[i+2]===e.emotion.subjects[u]){r++}}}}}}for(var i=0;i<t.length;i++){for(var f=0;f<e.emotion.negComb.length;f++){var l=0;var c=e.emotion.negComb[f].length;var h=0;for(var u=i;u<i+c;u++){if(t[u]===e.emotion.negComb[f][h]){l++}else{for(var p=0;p<e.emotion.negCombSep.length;p++){if(t[u]===e.emotion.negCombSep[p]){if(t[u+1]===e.emotion.negComb[f][h]){l++}}}}h++}if(l===c){n++}}}for(var i=0;i<t.length;i++){for(var f=0;f<e.emotion.posComb.length;f++){var l=0;var c=e.emotion.posComb[f].length;var h=0;for(var u=i;u<i+c;u++){if(t[u]===e.emotion.posComb[f][h]){l++}else{for(var p=0;p<e.emotion.posCombSep.length;p++){if(t[u]===e.emotion.posCombSep[p]){if(t[u+1]===e.emotion.posComb[f][h]){l++}}}}h++}if(l===c){r++}}}if(n===r){return"neutral or unknown"}else if(n>r){return"negative"}else{return"positive"}};this.preview=function(e,t){var n="";var r=-10;for(var i=e-6;i<e+6;i++){n+=" "+t[i]}n=braid.replace(n," undefined@w@@n@  @w@");n=n.slice(1,n.length);return n};this.phone={};this.phone.findPhones=function(t){var n=[];var r=/^\d{10}$/;for(var i=0;i<t.length;i++){t[i]=braid.replace(t[i],"-@w@");t[i]=t[i].replace("(","");t[i]=t[i].replace(")","");if(r.test(t[i])){n.push([t[i],e.preview(i,t)])}else if(t[i].length===11){var s=t[i].slice(1,t[i].length);if(r.test(s)){n.push([t[i],e.preview(i,t)])}}}return n};this.spam={};this.spam.vowCount=function(e){var t=e.match(/[aeiou]/gi);var n=t?t.length:0;return n};this.spam.conCount=function(e){var t=e.match(/[bcdfghjklmnpqrstvwxyz]/gi);var n=t?t.length:0;return n};this.spam.specCount=function(e){var t=e.match(/[1234567890@#$%^&*();]/gi);var n=t?t.length:0;return n};this.spam.isSpam=function(t){var n=false;var r=0;for(var i=0;i<t.length;i++){r+=t[i].length}var s=r/t.length;if(s+15>=5.1&&s-15<=5.1){}else{n=true}var o=0;var u=0;var a=0;for(var i=0;i<t.length;i++){o+=e.spam.vowCount(t[i]);u+=e.spam.conCount(t[i]);a+=e.spam.specCount(t[i])}if(o>=u){n=true}else if(a>o){n=true}var f=u/7;if(t.length>3){if(o+f>=u/1.9&&o-f<=u/1.9){}else{n=true}}else if(t.length>2){if(o+f>=u/1.4&&o-f<=u/1.4){}else{n=true}}else{f=u/3;if(o+f>=u&&o-f<=u){}else{n=true}}var l=[];for(var i=0;i<t.length;i++){var c=t[i];for(var h=0;h<c.length;h++){var p=false;for(var d=0;d<l.length;d++){if(l[d]===c[h]){p=true}}if(p===false){l.push(c[h])}}}var v=l.length;if(v+t.length/7<t.length){n=true}var m=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"];for(var i=0;i<t.length;i++){var c=t[i];c=c.split(/[.?! ]+/);c=c[0];var g=0;while(g<c.length-2){for(var h=g+1;h<c.length;h++){var y=true;for(var b=0;b<m.length;b++){if(c[g]===m[b]){y=false}}if(y===false){if(c[h]===c[g]){if(c[h+1]===c[g+1]){if(c[h+2]===c[g+2]){n=true}}}}else{break}}g++}}return n};this.link={};this.link.findLinks=function(t){var n=[];for(var r=0;r<t.length;r++){t[r]=t[r].replace("(","");t[r]=t[r].replace(")","");t[r]=t[r].replace("!","");t[r]=braid.replace(t[r],",@wa@");var i=t[r];if(/^([a-z]([a-z]|\d|\+|-|\.)*):(\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?((\[(|(v[\da-f]{1,}\.(([a-z]|\d|-|\.|_|~)|[!\$&'\(\)\*\+,;=]|:)+))\])|((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=])*)(:\d*)?)(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*|(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)|((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)|((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)){0})(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(i)){n.push([i,e.preview(r,t)])}}var s=[];for(var r=0;r<n.length;r++){if(n[r][0][n[r][0].length-1]==="."||n[r][0][n[r][0].length-1]==="?"){s.push([n[r][0].slice(0,n[r][0].length-1),n[r][1]])}else{s.push(n[r])}}return s};this.email={};this.email.findEmails=function(t){var n=[];for(var r=0;r<t.length;r++){console.log(t[r]);var i=t[r].split(/[\,\|\(\)]/g);for(var s=0;s<i.length;s++){var o=i[s];o=o.replace("(","");o=o.replace(")","");o=o.replace("!","");o=braid.replace(o,",@wa@");if(/^(?:[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+\.)*[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!\.)){0,61}[a-zA-Z0-9]?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\[(?:(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\]))$/.test(o)){n.push([o,e.preview(r,t)])}}}return n};this.places={};this.places.findPlaces=function(t){var n=[];for(var r=0;r<t.length;r++){t[r]=t[r].replace("(","");t[r]=t[r].replace(")","");t[r]=t[r].replace("!","");t[r]=braid.replace(t[r],",@wa@");if(t[r]==="at"||t[r]==="in"||t[r]==="near"){var i=[];var s=1;while(t[r+s]!=="at"&&t[r+s]!=="in"&&t[r+s]!=="near"&&!/^.*(\.|\,)+$/.test(t[r+s-1])&&r+s<t.length){var o=t[r+s].replace(/[\,\.]/,"");if(/^[A-Z](.*)$/.test(o)){i.push(o)}s++}if(i.length>0&&i.length<3){n.push([i.join(" "),e.preview(r,t)])}r+=s-1}}return n};this.init=function(t){var n=t.toLowerCase();e.text.wordCount=n.split(/[ ]+/).length-1;var r=n.split(/[ \n]+/);var i=t.split(/[ \n]+/);n=n.split(/[\n ]+/);for(var s=0;s<n.length;s++){n[s]=braid.replace(n[s]," @w@@n@,@w@"+'@n@"@w@');n[s]=n[s].replace("?","")}var o=n;var u=e.date.findDates(o,r);if(u!==[]){e.addToObj(u,"dates")}var a=e.time.findTimes(o);if(a!==[]){e.addToObj(a,"times")}var f=e.phone.findPhones(o);if(f!==[]){e.addToObj(f,"phones")}var l=e.emotion.findEmotions(o);if(l!==[]){e.addToObj(l,"emotions")}var c=e.link.findLinks(r);if(c!==[]){e.addToObj(c,"links")}var h=e.email.findEmails(i);if(h!==[]){e.addToObj(h,"emails")}var p=e.places.findPlaces(i);if(p!==[]){e.addToObj(p,"places")}var d=e.spam.isSpam(o);e.addToObj(d,"spam");var v=e.text.readingTime(e.text.wordCount);if(v!==[]){e.addToObj(v,"readingTime")}};var e=this}var braid={};braid.vnumber=.02;braid.version=function(){console.log(braid.vnumber)};braid.search=function(e,t,n,r){if(n!==undefined){if(n===false){t=t.toLowerCase();e=e.toLowerCase();if(r!==false){t=braid.replace(t,"aeiouyAEIOUY@wa@");e=braid.replace(e,"aeiouyAEIOUY@wa@")}}}var i=[];var t=t.split("");var e=e.split("");var s;var o=0;for(var u=0;u<t.length;u++){if(t[u]===e[0]){for(var a=0;a<e.length;a++){s=u+a;if(t[s]===e[a]){if(a===e.length-1){var f=s-e.length+1;i.push(f);o++}}}}}if(o===0){return false}else{return i}};braid.replace=function(e,t){var n=t;var t={};t.full=n;var r=false,i=false;t.groups=t.full.split("@n@");if(e instanceof Array){var s=[];r=true;for(var o=0;o<e.length;o++){var u=e[o];if(u===parseInt(u)){u=u.toString();i=true}for(var a=0;a<t.groups.length;a++){var f=t.groups[a];var l=braid.search("@wa@",f,true);if(l===false){var c=f.split("@w@");var h=c[0];var p=c[1];u=deiwo3replace(h,p,u)}else{var c=f.split("@wa@");var h=c[0];if(braid.search("!NUM!",h,true)!==false){h="12345678910"}if(braid.search("!VOWEL!",h,true)!==false){h="aeiouyAEIOUY"}if(braid.search("!SPECIAL!",h,true)!==false){h="~`@#$%^&*()_+-={}|[]:;<>"}h=h.split("");var p=c[1];for(var d=0;d<h.length;d++){u=deiwo3replace(h[d],p,u)}}}if(i===true){u=parseInt(u)}s.push(u);i=false}}else{if(e===parseInt(e)){e=e.toString();i=true}for(var a=0;a<t.groups.length;a++){var f=t.groups[a];var l=braid.search("@wa@",f,true);if(l===false){var c=f.split("@w@");var h=c[0];var p=c[1];e=deiwo3replace(h,p,e)}else{var c=f.split("@wa@");var h=c[0];if(braid.search("!NUM!",h,true)!==false){h="12345678910"}if(braid.search("!VOWEL!",h,true)!==false){h="aeiouyAEIOUY"}h=h.split("");var p=c[1];for(var d=0;d<h.length;d++){e=deiwo3replace(h[d],p,e)}}}if(i===true){e=parseInt(e)}}if(r===false){return e}else{return s}};var deiwo3replace=function(e,t,n){return n.replace(new RegExp(e,"g"),t)};braid.help=function(e){if(!e){console.log('Incorrect santex. Make sure to use the first parameter as a keyword. Example: braid.help("braid.replace"). \n|TIP: You can use this function in the console for quick help.')}else{if(braid.search("replace",e,false)!==false){console.log("*SANTEX FOR braid.replace()*\n\n"+"|RETURNS: braid.replace() will return the output after completing actions on the string.\n"+"|SANTEX: var VARIABLE = braid.replace('this is a test','this@w@that@n@is@w@was');\n"+"|OUTPUT: 'that was a test'\n"+"|NOTE: Using the parameter 'key' (second parameter), '@w@' is used as 'with', so 'apple@w@grape' means 'replace apple with grape'.\n"+"| '@n@ is used as 'next.' It is used to seperate instructions, as follows, 'apple@w@grape@n@cherry@w@bannana'.\n"+"| You can use '@wa@' instead of '@w@' to replace all instances of each character with another, like so, 'aeiouy@wa@#'\n"+"| If the string were 'abcdefghijklmnopqrstuvwxyz', this would output '#bcd#fgh#jklmn#pqrst#vwx#z'.\n"+"| *Input can be an Array, Integer, or String.\n")}else if(braid.search("search",e,false)!==false){console.log("*SANTEX FOR braid.search()*\n\n"+"|RETURNS: if braid.search() finds a match to query, it will return the positions of all matches in an array.\n"+"| If it does not find a match, it will return *false*.\n"+"|SANTEX: var VARIABLE = braid.search('query','complete string',false,false);\n"+"|OUTPUT: *false*\n"+"|NOTE: The third (3) parameter should be *true* or *false*, if *true* the search will be case sensitive, if *false* the search will not.\n| Setting this to false will also search by just consonants, instead of both consonants and vowels.\n"+"| The fourth (4) parameter can be set to *false* to disable the removal of vowels when searching with the third (3) parameter equal to *true*.\n")}else{console.log("~No help available on this topic. Please make sure to check your spelling.\nSANTEX: braid.help('braid.complementary'), etc.\n    ")}}};